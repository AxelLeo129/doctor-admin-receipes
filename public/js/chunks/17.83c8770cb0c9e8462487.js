(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{ZAEi:function(a,t,e){"use strict";var s=e("cxqG");e.n(s).a},cxqG:function(a,t,e){var s=e("vVVc");"string"==typeof s&&(s=[[a.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};e("aET+")(s,i);s.locals&&(a.exports=s.locals)},fD9c:function(a,t,e){"use strict";e.r(t);var s=e("Snq/"),i=e.n(s),l=e("w48C"),n=e.n(l),c=(e("CVKz"),e("K+Wz"),e("SYT2")),o=e("vDqi"),r=e.n(o);function d(a,t,e){return t in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}var v={components:{vSelect:i.a,flatPickr:n.a},data:function(){var a;return d(a={errors:{campo:"Este campo es requerido"},id:"",configdateTimePicker:{locale:c.Spanish},birthDate:null,image:"",alertas:null,registro:null,name:null,noCollegiate:null,email:null,phone:null,userName:null,clinicName:null,clinicPhone:null,clinicAddress:null,specialties:null},"email",null),d(a,"clinicalRecord",null),d(a,"showAlerts",null),d(a,"base64textString",null),d(a,"activado",!1),d(a,"activado1",!1),a},methods:{handleFileSelect:function(a){var t=a.target.files,e=t[0],s=t[0].name;if(document.getElementById("info1").innerHTML=s,t&&e){var i=new FileReader;i.onload=this._handleReaderLoaded1.bind(this),i.readAsBinaryString(e)}},_handleReaderLoaded1:function(a){var t=a.target.result;this.base64textString=btoa(t),this.image="data:image/png;base64,"+this.base64textString},update1:function(){var a=this;this.openLoading();var t=localStorage.getItem("tu");0==this.registro?this.clinicalRecord=0:this.clinicalRecord=1,0==this.alertas?this.showAlerts=0:this.showAlerts=1,"images/medicamentos/avatar-s-23.jpg"==this.image&&(this.image=""),r()({method:"put",url:"http://127.0.0.1:8000/api/putUser1",data:JSON.stringify({id:this.id,name:this.name,userName:this.userName,noCollegiate:this.noCollegiate,phone:this.phone,birthDate:this.birthDate,clinicalRecord:this.clinicalRecord,showAlerts:this.showAlerts,email:this.email,image:this.base64textString}),headers:{authorization:"Bearer "+t,"content-type":"application/json"}}).then((function(t){a.activeLoading=!1,a.$vs.loading.close(),a.getData(),a.$vs.notify({title:"Actualizado",text:"Usuario actualizado exitosamente.",color:"success"})})).catch((function(t){a.activeLoading=!1,a.$vs.loading.close(),a.activado=!0,console.log(t)}))},update2:function(){var a=this;this.openLoading();var t=localStorage.getItem("tu");r()({method:"put",url:"http://127.0.0.1:8000/api/putUser2",data:JSON.stringify({id:this.id,clinicName:this.clinicName,clinicLogo:"",clinicPhone:this.clinicPhone,clinicAddress:this.clinicAddress,specialties:this.specialties}),headers:{authorization:"Bearer "+t,"content-type":"application/json"}}).then((function(t){a.activeLoading=!1,a.$vs.loading.close(),a.getData(),a.$vs.notify({title:"Actualizado",text:"Usuario actualizado exitosamente.",color:"success"})})).catch((function(t){a.activeLoading=!1,a.$vs.loading.close(),a.activado1=!0,console.log(t)}))},openLoading:function(){this.activeLoading=!0,this.$vs.loading({type:"default"})},getData:function(){var a=this,t=localStorage.getItem("tu");r()({method:"get",url:"http://127.0.0.1:8000/api/details",headers:{authorization:"Bearer "+t,"content-type":"application/json"}}).then((function(t){a.id=t.data.success.id,a.name=t.data.success.name,a.userName=t.data.success.userName,0==t.data.success.clinicalRecord?a.registro=!1:a.registro=!0,0==t.data.success.showAlerts?a.alertas=!1:a.alertas=!0,""==t.data.success.image?a.image="images/medicamentos/avatar-s-23.jpg":a.image="data:image/png;base64,"+t.data.success.image,a.email=t.data.success.email,a.clinicName=t.data.success.clinicName,a.clinicPhone=t.data.success.clinicPhone,a.clinicAddress=t.data.success.clinicAddress,a.specialties=t.data.success.specialties,""==t.data.success.birthDate?a.birthDate=null:a.birthDate=t.data.success.birthDate,a.activeLoading=!1,a.$vs.loading.close()})).catch((function(t){console.log(t),a.activeLoading=!1,a.$vs.loading.close()}))}},created:function(){this.openLoading(),this.getData()}},u=(e("ZAEi"),e("KHd+")),m=Object(u.a)(v,(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{attrs:{id:"page-user-edit"}},[e("vx-card",[e("div",{staticClass:"tabs-container px-6 pt-6",attrs:{slot:"no-body"},slot:"no-body"},[e("vs-tabs",{staticClass:"tab-action-btn-fill-conatiner"},[e("vs-tab",{attrs:{label:"Cuenta","icon-pack":"feather",icon:"icon-user"}},[e("div",{staticClass:"tab-text"},[e("div",{attrs:{id:"user-edit-tab-info"}},[e("div",{staticClass:"vx-row"},[e("div",{staticClass:"vx-col w-full"},[e("div",{staticClass:"flex items-start flex-col sm:flex-row"},[e("img",{staticClass:"mr-8 rounded h-24 w-24",attrs:{src:a.image}}),a._v(" "),e("div",[e("p",{staticClass:"text-lg font-medium mb-2 mt-4 sm:mt-0",domProps:{textContent:a._s(a.name)}}),a._v(" "),e("input",{ref:"update_avatar_input",staticClass:"hidden",attrs:{type:"file",accept:"image/*"}}),a._v(" "),e("input",{staticClass:"fileInput",attrs:{accept:"image/*",type:"file",color:"warning",id:"image",name:"image"},on:{change:function(t){return a.handleFileSelect(t)}}}),a._v(" "),e("label",{staticClass:"subir",attrs:{for:"image"}},[e("vs-icon",{attrs:{icon:"edit"}})],1),a._v(" "),e("div",{attrs:{id:"info1"}}),a._v(" "),e("span")]),a._v(" "),e("vs-alert",{staticStyle:{width:"70%"},attrs:{color:"danger",title:"Error",active:a.activado,closable:"","icon-pack":"feather","close-icon":"icon-x"},on:{"update:active":function(t){a.activado=t}}},[a._v("Error en el servidor, por favor intentelo más tarde.")])],1)])]),a._v(" "),e("div",{staticClass:"vx-row"},[e("br"),a._v(" "),e("br"),a._v(" "),e("div",{staticClass:"vx-col md:w-1/4 w-full"},[e("label",[a._v("Configuración Plataforma")])])]),a._v(" "),e("div",{staticClass:"vx-row"},[e("div",{staticClass:"vx-col md:w-1/4 w-full"},[e("ul",{staticClass:"centerx"},[e("li",[e("vs-checkbox",{model:{value:a.alertas,callback:function(t){a.alertas=t},expression:"alertas"}},[a._v("Mostrar alertas")])],1)])]),a._v(" "),e("div",{staticClass:"vx-col md:w-1/4 w-full"},[e("ul",[e("li",[e("vs-checkbox",{model:{value:a.registro,callback:function(t){a.registro=t},expression:"registro"}},[a._v("¿Desea usar registro Clínico?")])],1)])])]),a._v(" "),e("div",{staticClass:"vx-row"},[e("div",{staticClass:"vx-col md:w-1/2 w-full"},[e("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Nombres y Apellidos",name:"name"},model:{value:a.name,callback:function(t){a.name=t},expression:"name"}}),a._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:""===a.name,expression:"name === ''"}],staticClass:"text-danger text-sm"},[a._v(a._s(a.errors.campo))]),a._v(" "),e("vs-input",{staticClass:"w-full mt-4",attrs:{label:"No. Colegiado",name:"noCollegiate"},model:{value:a.noCollegiate,callback:function(t){a.noCollegiate=t},expression:"noCollegiate"}}),a._v(" "),e("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Email",type:"email",name:"email"},model:{value:a.email,callback:function(t){a.email=t},expression:"email"}}),a._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:""===a.email,expression:"email === ''"}],staticClass:"text-danger text-sm"},[a._v(a._s(a.errors.campo))])],1),a._v(" "),e("div",{staticClass:"vx-col md:w-1/2 w-full"},[e("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Nombre de Usuario",name:"userName"},model:{value:a.userName,callback:function(t){a.userName=t},expression:"userName"}}),a._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:""===a.userName,expression:"userName === ''"}],staticClass:"text-danger text-sm"},[a._v(a._s(a.errors.campo))]),a._v(" "),e("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Teléfono",type:"number",name:"phone"},model:{value:a.phone,callback:function(t){a.phone=t},expression:"phone"}}),a._v(" "),e("div",{staticClass:"mt-4"},[e("label",{staticClass:"text-sm"},[a._v("Fecha de Nacimiento")]),a._v(" "),e("flat-pickr",{staticClass:"w-full",attrs:{config:{dateFormat:"d F Y",maxDate:new Date},name:"birthDate"},model:{value:a.birthDate,callback:function(t){a.birthDate=t},expression:"birthDate"}})],1)],1)]),a._v(" "),e("div",{staticClass:"vx-row"},[e("div",{staticClass:"vx-col w-full"},[e("div",{staticClass:"mt-8 flex flex-wrap items-center justify-end"},[e("vs-button",{staticClass:"ml-auto mt-2",attrs:{color:"warning",disabled:""==a.name||""==a.userName||""===a.email},on:{click:a.update1}},[a._v("Guardar Cambios")]),a._v(" "),e("vs-button",{staticClass:"ml-4 mt-2",attrs:{type:"border",color:"danger"},on:{click:a.getData}},[a._v("Resetear")])],1)])])])])]),a._v(" "),e("vs-tab",{attrs:{label:"Información Médica","icon-pack":"feather",icon:"icon-info"}},[e("div",{staticClass:"tab-text"},[e("div",{attrs:{id:"user-edit-tab-info"}},[e("div",{staticClass:"vx-row"},[e("vs-alert",{staticStyle:{width:"70%"},attrs:{color:"danger",title:"Error",active:a.activado1,closable:"","icon-pack":"feather","close-icon":"icon-x"},on:{"update:active":function(t){a.activado1=t}}},[a._v("Error en el servidor, por favor intentelo más tarde.")])],1),a._v(" "),e("br"),a._v(" "),e("div",{staticClass:"vx-row"},[e("div",{staticClass:"vx-col w-full md:w-1/2"},[e("div",{staticClass:"flex items-end"},[e("feather-icon",{staticClass:"mr-2",attrs:{icon:"HomeIcon",svgClasses:"w-5 h-5"}}),a._v(" "),e("span",{staticClass:"leading-none font-medium"},[a._v("Clínica")])],1),a._v(" "),e("div",[e("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Nombre Clínica",name:"clinicName"},model:{value:a.clinicName,callback:function(t){a.clinicName=t},expression:"clinicName"}}),a._v(" "),e("vs-input",{staticClass:"w-full mt-4",attrs:{type:"number",label:"Teléfono",name:"clinicPhone"},model:{value:a.clinicPhone,callback:function(t){a.clinicPhone=t},expression:"clinicPhone"}}),a._v(" "),e("div",{staticClass:"mt-4"},[e("vs-textarea",{attrs:{label:"Dirección"},model:{value:a.clinicAddress,callback:function(t){a.clinicAddress=t},expression:"clinicAddress"}})],1)],1)]),a._v(" "),e("div",{staticClass:"vx-col w-full md:w-1/2"},[e("div",{staticClass:"flex items-end md:mt-0 mt-base"},[e("feather-icon",{staticClass:"mr-2",attrs:{icon:"PlusIcon",svgClasses:"w-5 h-5"}}),a._v(" "),e("span",{staticClass:"leading-none font-medium"},[a._v("Especialidades")])],1),a._v(" "),e("div",[e("div",{staticClass:"mt-4"},[e("vs-textarea",{attrs:{label:"Lista Especialidades"},model:{value:a.specialties,callback:function(t){a.specialties=t},expression:"specialties"}})],1)])])]),a._v(" "),e("div",{staticClass:"vx-row"},[e("div",{staticClass:"vx-col w-full"},[e("div",{staticClass:"mt-8 flex flex-wrap items-center justify-end"},[e("vs-button",{staticClass:"ml-auto mt-2",attrs:{color:"warning"},on:{click:a.update2}},[a._v("Guardar Cambios")]),a._v(" "),e("vs-button",{staticClass:"ml-4 mt-2",attrs:{type:"border",color:"danger"},on:{click:a.getData}},[a._v("Resetear")])],1)])])])])])],1)],1)])],1)}),[],!1,null,null,null);t.default=m.exports},vVVc:function(a,t,e){(a.exports=e("I1BE")(!1)).push([a.i,".fileInput {\n  width: 1px;\n  height: 0.1px;\n  opacity: 0;\n  overflow: hidden;\n  position: absolute;\n  z-index: -1;\n}\n.subir {\n  color: #fff;\n}\n[dir] .subir {\n  padding: 5px 10px;\n  background: #ffce00;\n  border: 0px solid #fff;\n  border-radius: 15px 15px 15px 15px;\n}\n.subir:hover {\n  color: #fff;\n}\n[dir] .subir:hover {\n  background: #e0b500;\n}",""])}}]);