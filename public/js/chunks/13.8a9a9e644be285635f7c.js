(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{MOsw:function(t,a,e){(t.exports=e("I1BE")(!1)).push([t.i,".fileInput {\n  width: 0.1px;\n  height: 0.1px;\n  opacity: 0;\n  overflow: hidden;\n  position: absolute;\n  z-index: -1;\n}\n.subir {\n  color: #fff;\n}\n[dir] .subir {\n  padding: 5px 10px;\n  background: #7044ff;\n  border: 0px solid #fff;\n  border-radius: 15px 15px 15px 15px;\n}\n.subir:hover {\n  color: #fff;\n}\n[dir] .subir:hover {\n  background: #7e57ff;\n}\n[dir] .vs-textarea {\n  background-color: white;\n}",""])},"Tap+":function(t,a,e){"use strict";e.r(a);var s=e("Snq/"),i=e.n(s),o=e("vDqi"),n=e.n(o),r={components:{vSelect:i.a},props:{data:{type:Object}},data:function(){return{errors:{campo:"Este campo es requerido."},imagen:"/images/medicamentos/demo.jpg",name:null,precentation:null,description:null,quantity:null,price:null,id:null,laboratory:null,warehouse:null,category:null,category1:null,message:"Error en el servidor, por favor inténtalo más tarde.",activado:!1,base64textString:"",categorias:[{label:"Ginecología",value:"ginecologia"},{label:"Dermatología",value:"dermatologia"},{label:"Psicología",value:"psicologia"},{label:"Pediatría",value:"pediatria"},{label:"Otros",value:"otros"}]}},computed:{status_local:{get:function(){return{label:this.capitalize(this.data_local.status),value:this.data_local.status}},set:function(t){this.data_local.status=t.value}},role_local:{get:function(){return{label:this.capitalize(this.data_local.role),value:this.data_local.role}},set:function(t){this.data_local.role=t.value}},validateForm:function(){return!this.errors.any()}},created:function(){var t=this;this.openLoading(),this.id=this.$route.params.productId;var a=localStorage.getItem("tu");n()({method:"get",url:"http://127.0.0.1:8000/api/getProduct/"+this.id,headers:{authorization:"Bearer "+a,"content-type":"application/json"}}).then((function(a){0==a.data.length?(t.activeLoading=!1,t.$vs.loading.close(),t.$vs.notify({title:"Atención",text:"Producto no encontrado.",color:"warning"}),t.$router.push("/consola")):(t.name=a.data[0].name,t.imagen="data:image/png;base64,"+a.data[0].image,t.base64textString=a.data[0].image,t.quantity=a.data[0].quantity,t.description=a.data[0].description,t.precentation=a.data[0].precentation,t.price=a.data[0].price,t.laboratory=a.data[0].laboratory,t.category=a.data[0].category,t.category1=a.data[0].category,t.warehouse=a.data[0].warehouse,t.activeLoading=!1,t.$vs.loading.close())})).catch((function(a){t.activeLoading=!1,t.$vs.loading.close(),t.$vs.notify({title:"Precaución",text:"Producto no encontrado.",color:"warning"}),t.$router.push("/consola")}))},methods:{doUpdate:function(){var t=this;this.openLoading();var a=localStorage.getItem("tu");this.category1!=this.category&&(this.category1=this.category.value),n()({method:"put",url:"http://127.0.0.1:8000/api/putProduct",data:JSON.stringify({id:this.id,name:this.name,image:this.base64textString,description:this.description,price:this.price,precentation:this.precentation,category:this.category1,laboratory:this.laboratory,warehouse:this.warehouse,quantity:this.quantity}),headers:{authorization:"Bearer "+a,"content-type":"application/json"}}).then((function(a){t.activeLoading=!1,t.$vs.loading.close(),t.$router.push("/consola"),t.$vs.notify({title:"Actualizado",text:"Producto actualizado exitosamente.",color:"success"})})).catch((function(a){t.activeLoading=!1,t.$vs.loading.close(),t.activado=!0,console.log(a)}))},handleFileSelect:function(t){var a=t.target.files,e=a[0],s=a[0].name;if(document.getElementById("info1").innerHTML=s,a&&e){var i=new FileReader;i.onload=this._handleReaderLoaded1.bind(this),i.readAsBinaryString(e)}},_handleReaderLoaded1:function(t){var a=t.target.result;this.base64textString=btoa(a),this.imagen="data:image/png;base64,"+this.base64textString},openLoading:function(){this.activeLoading=!0,this.$vs.loading({type:"default"})},capitalize:function(t){return t.slice(0,1).toUpperCase()+t.slice(1,t.length)},save_changes:function(){this.validateForm},reset_data:function(){this.data_local=JSON.parse(JSON.stringify(this.data))},update_avatar:function(){}}},l=(e("yTa6"),e("KHd+")),c=Object(l.a)(r,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"vx-row"},[e("div",{staticClass:"vx-col w-full"},[e("div",{staticClass:"flex items-start flex-col sm:flex-row"},[e("img",{staticClass:"mr-8 rounded h-24 w-24",attrs:{src:t.imagen}}),t._v(" "),e("div",[e("p",{staticClass:"text-lg font-medium mb-2 mt-4 sm:mt-0",domProps:{textContent:t._s(t.name)}}),t._v(" "),e("input",{staticClass:"fileInput",attrs:{accept:"image/*",type:"file",color:"danger",id:"image",name:"image"},on:{change:function(a){return t.handleFileSelect(a)}}}),t._v(" "),e("label",{staticClass:"subir",attrs:{for:"image"}},[t._v("Cambiar Foto")]),t._v(" "),e("div",{attrs:{id:"info1"}}),t._v(" "),e("span")]),t._v(" "),e("vs-alert",{staticStyle:{width:"70%"},attrs:{color:"danger",title:"Error",active:t.activado,closable:"","icon-pack":"feather","close-icon":"icon-x"},on:{"update:active":function(a){t.activado=a}}},[t._v(t._s(t.message))])],1)])]),t._v(" "),e("div",{staticClass:"vx-row"},[e("div",{staticClass:"vx-col md:w-1/2 w-full"},[e("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Nombre",name:"name"},model:{value:t.name,callback:function(a){t.name=a},expression:"name"}}),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:""===t.name,expression:"name === ''"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.campo))]),t._v(" "),e("div",{staticClass:"mt-4"},[e("vs-textarea",{staticClass:"vs-textarea",attrs:{label:"Descripción"},model:{value:t.description,callback:function(a){t.description=a},expression:"description"}}),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:""===t.description,expression:"description === ''"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.campo))])],1),t._v(" "),e("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Precio",name:"precio",placeholder:"Q",type:"number"},model:{value:t.price,callback:function(a){t.price=a},expression:"price"}}),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:""===t.price,expression:"price === ''"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.campo))]),t._v(" "),e("div",{staticClass:"mt-4"},[e("label",{staticClass:"vs-input--label"},[t._v("Categoría")]),t._v(" "),e("v-select",{attrs:{clearable:!1,options:t.categorias,name:"role",dir:t.$vs.rtl?"rtl":"ltr"},model:{value:t.category,callback:function(a){t.category=a},expression:"category"}})],1),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:""===t.category,expression:"category === ''"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.campo))])],1),t._v(" "),e("div",{staticClass:"vx-col md:w-1/2 w-full"},[e("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Cantidad",name:"cantidad",type:"number"},model:{value:t.quantity,callback:function(a){t.quantity=a},expression:"quantity"}}),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:""===t.quantity,expression:"quantity === ''"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.campo))]),t._v(" "),e("div",{staticClass:"mt-4"},[e("vs-textarea",{staticClass:"vs-textarea",attrs:{label:"Precentación"},model:{value:t.precentation,callback:function(a){t.precentation=a},expression:"precentation"}}),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:""===t.precentation,expression:"precentation === ''"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.campo))])],1),t._v(" "),e("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Laboratorio",name:"laboratorio"},model:{value:t.laboratory,callback:function(a){t.laboratory=a},expression:"laboratory"}}),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:""===t.laboratory,expression:"laboratory === ''"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.campo))]),t._v(" "),e("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Bodega de Despacho",name:"bodega"},model:{value:t.warehouse,callback:function(a){t.warehouse=a},expression:"warehouse"}}),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:""===t.warehouse,expression:"warehouse === ''"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.campo))])],1),t._v(" "),e("div",{staticClass:"vx-row"},[t._m(0),t._v(" "),e("div",{staticClass:"vx-col w-full"},[e("div",{staticClass:"mt-8 flex flex-wrap items-center justify-end"},[e("vs-button",{staticClass:"ml-auto mt-2",attrs:{color:"warning",disabled:""==t.name||""==t.quantity||""==t.description||""==t.precentation||""==t.price||""==t.laboratory||""==t.category||""==t.warehouse},on:{click:t.doUpdate}},[t._v("Guardar")]),t._v(" "),e("vs-button",{staticClass:"ml-4 mt-2",attrs:{type:"border",color:"danger"}},[t._v("Resetear")])],1)])])])])}),[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("span")])}],!1,null,null,null);a.default=c.exports},d9bm:function(t,a,e){var s=e("MOsw");"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};e("aET+")(s,i);s.locals&&(t.exports=s.locals)},yTa6:function(t,a,e){"use strict";var s=e("d9bm");e.n(s).a}}]);